<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GPA Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #121212;
            color: white;
        }
        .container {
            max-width: 500px;
            margin: auto;
            background: #1e1e1e;
            padding: 20px;
            border-radius: 12px;
        }
        input, select, button {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border-radius: 8px;
            border: none;
        }
        button {
            background: #4caf50;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background: #45a049;
        }
        .subject-box {
            margin-top: 15px;
            padding: 10px;
            background: #2a2a2a;
            border-radius: 8px;
        }
        h1 {
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>GPA Calculator</h1>

        <input id="subjectName" type="text" placeholder="Subject name" autocomplete="off" />
        <input id="creditHours" type="text" placeholder="Credit hours" />

        <select id="grade">
            <option value="A+ (97%)">A+</option>
            <option value="A (93%)">A</option>
            <option value="A- (89%)">A-</option>
            <option value="B+ (%84)">B+</option>
            <option value="B (%80)">B</option>
            <option value="B- (%76)">B-</option>
            <option value="C+ (%73)">C+</option>
            <option value="C" (%70)>C</option>
            <option value="C- (%67)">C-</option>
            <option value="D+ (%64)">D+</option>
            <option value="D (%60)">D</option>
            <option value="F (<%60)">F</option>
        </select>

        <button onclick="addSubject()">Add Subject</button>

        <div id="subjects"></div>

        <button onclick="calculateGPA()" style="margin-top:20px; background:#2196F3;">Calculate GPA</button>

        <h2 id="result"></h2>
    </div>

    <script>
        let subjects = [];

        function gradeToGPA(g) {
            const map = {
                "A+": 4.0, "A": 4.0, "A-": 3.7,
                "B+": 3.3, "B": 3.0, "B-": 2.7,
                "C+": 2.3, "C": 2.0, "C-": 1.7,
                "D+": 1.3, "D": 1.0, "F": 0.0
            };
            return map[g];
        }

        function addSubject() {
            const nameEl = document.getElementById("subjectName");
            const chEl = document.getElementById("creditHours");
            const gradeEl = document.getElementById("grade");

            const name = nameEl.value.trim();
            const chRaw = chEl.value.trim();
            const ch = parseFloat(chRaw);
            const grade = gradeEl.value;

            if (!name) {
                alert("Please enter a subject name.");
                return;
            }

            if (!chRaw || isNaN(ch) || ch <= 0) {
                alert("Please enter valid credit hours.");
                return;
            }

            subjects.push({ name, ch, grade });
            updateList();

            nameEl.value = "";
            chEl.value = "";
            gradeEl.value = "A";
        }

        function updateList() {
            const div = document.getElementById("subjects");
            div.innerHTML = "";

            subjects.forEach((s, i) => {
                const box = document.createElement("div");
                box.className = "subject-box";
                box.innerHTML = `
                    <strong>${s.name}</strong><br>
                    Credits: ${s.ch}<br>
                    Grade: ${s.grade}<br>
                    <button onclick="removeSubject(${i})" style='margin-top:5px; background:#d9534f;'>Remove</button>
                `;
                div.appendChild(box);
            });
        }

        function removeSubject(index) {
            subjects.splice(index, 1);
            updateList();
        }

        function calculateGPA() {
            if (subjects.length === 0) {
                alert("Please add at least one subject.");
                return;
            }

            let totalPoints = 0;
            let totalCredits = 0;

            subjects.forEach(s => {
                totalPoints += gradeToGPA(s.grade) * s.ch;
                totalCredits += s.ch;
            });

            const gpa = totalPoints / totalCredits;
            document.getElementById("result").innerText = `GPA: ${gpa.toFixed(2)}`;
        }
    </script>
</body>
</html>
